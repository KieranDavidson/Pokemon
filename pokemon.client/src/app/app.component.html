<h1 class="tournament-title">Pokemon Tournament</h1>

<div class="tournament-controls">
    <div>
        <h4>Order By</h4>
        <select name="orderByDropdown" (change)="onOrderByChanged($event)">
            @for(orderByOption of orderByOptions; track orderByOption) {
                <option [value]="orderByOption">{{orderByOption | titlecase}}</option>
            } 
        </select>
    </div>

    <div>
        <h4>Sort Direction</h4>
        <select name="sortDirectionDropdown" (change)="onSortDirectionChanged($event)">
            @for(directionOption of sortDirectionOptions; track directionOption) {
                <option [value]="directionOption">{{directionOption | titlecase}}</option>
            } 
        </select>
    </div>

    <button (click)="generateNewStatistics()">Generate</button>
    <button (click)="testError()">Test Error</button>
</div>
  
@if(generating) {
    <p>Generating...</p>
    
}
@else if(errorMessage != "") {
    <div class="error">
        <h3>Error!</h3>
        <p>{{errorMessage}}</p>
    </div>
}
@else
{
    <div class="tournament-results">
        @for(mon of pokemon; track mon.name) {
            <div class="pokemon">
                <div class="name">{{mon.name | titlecase }}</div> 
                <div>ID: {{mon.id}}</div>           
                <div>Wins: {{mon.wins}}</div>
                <div>Losses: {{mon.losses}}</div>
                <div>Ties: {{mon.ties}}</div>
                <div>Type: <span class="type" [class]="mon.types[0].type.name">{{mon.types[0].type.name | titlecase}}</span></div>
            </div>
        } 
    </div>
}